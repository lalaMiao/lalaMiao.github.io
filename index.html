<!DOCTYPE html>
<head>
    <title>ECharts</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
        <style type="text/CSS">
            div {background-color: transparent}
            </style>
        <!--    <script src="theme/shine.js"></script>-->
        <!-- ECharts单文件引入https://cdn.bootcss.com/echarts/4.1.0.rc1/echarts-en.common.min.js  -->
        <script src="https://cdn.bootcss.com/echarts/4.1.0.rc2/echarts.min.js"></script>
        <script type="text/javascript">
            var option;
            var myChart;
            var ecConfig;
            /**
             * 构建动态图表
             */
        function loadEcharts(initParams){
            initEchartView(initParams);
        }
        function refreshWithOption(optionData) {
            if (myChart == null || myChart == 'undefined'){
                initEchartView();
                alert('555');
                displayTheChartView(optionData);
            }else {
                myChart.setOption(optionData, true);
            }
        }
        function resizeDiv(cssText) {
            var divMain = document.getElementById("main");
            divMain.style.cssText = cssText;
            myChart.resize();
        }
        function initEchartView(initParams) {
            // 基于准备好的dom，初始化echarts图表
            if (initParams == null || initParams == 'undefined') {
                myChart = echarts.init(document.getElementById('main'));
                alert('myChart:' + myChart);
            } else {
                myChart = echarts.init(document.getElementById('main'), initParams);
            }
        }
        function displayTheChartView (data) {
            myChart.setOption(option = {
                              title: {
                              text: ''
                              },
                              grid:{
                              x:40,
                              y:15,
                              x2:2,
                              y2:20,
                              },
                              toolbox: {
                              left: 'right',
                              top:-5,
                              feature: {
                              restore: {}
                              }
                              },
                              tooltip: {
                              trigger: 'axis'
                              },
                              xAxis: {
                              data: data.map(function (item) {
                                             return item[0];
                                             })
                              },
                              yAxis: {
                              type: 'value',
                              scale: true,
                              precision: 2,
                              splitNumber: 5,
                              boundaryGap: [0.01, 0.01]
                              },
                              dataZoom: [{
                                         show:false,
                                         type: 'inside'
                                         }],
                              series: {
                              name: 'value',
                              type: 'line',
                              data: data.map(function (item) {
                                             return item[1];
                                             }),
                              itemStyle : { normal: {label : {show: true}}}
                              },
                              });
        };
        </script>
</head>
<body style="background-color: transparent;margin:0px"><!-- transparent-->
    <iframe name="action_frame" src="" style="display:none;"></iframe>
    <div id="main" style="height:160px;width:375px;" ></div><!-- style="height:270px;width:420px;margin-left:-30px;"-->
</body>
